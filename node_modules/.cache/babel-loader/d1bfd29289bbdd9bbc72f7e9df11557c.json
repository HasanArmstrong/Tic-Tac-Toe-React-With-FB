{"ast":null,"code":"import _regeneratorRuntime from \"/Users/pc/Desktop/tic-tac-toe/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"/Users/pc/Desktop/tic-tac-toe/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _classCallCheck from \"/Users/pc/Desktop/tic-tac-toe/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/pc/Desktop/tic-tac-toe/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/pc/Desktop/tic-tac-toe/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/pc/Desktop/tic-tac-toe/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/pc/Desktop/tic-tac-toe/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/Users/pc/Desktop/tic-tac-toe/src/facebooklogin.js\";\nimport React, { Component } from 'react';\nimport FacebookLogin from 'react-facebook-login';\n\nvar FacebookRoute =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(FacebookRoute, _Component);\n\n  function FacebookRoute() {\n    var _this;\n\n    _classCallCheck(this, FacebookRoute);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(FacebookRoute).call(this));\n    _this.handleTest =\n    /*#__PURE__*/\n    _asyncToGenerator(\n    /*#__PURE__*/\n    _regeneratorRuntime.mark(function _callee() {\n      var data, url, resp, json;\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              // make post request to server to write high score\n              data = new URLSearchParams();\n              data.append('player', 'Hasan');\n              data.append('score', '7777');\n              url = 'https://ftw-highscores.herokuapp.com/tictactoe-dev';\n              _context.next = 6;\n              return fetch(url, {\n                method: 'POST',\n                headers: {\n                  \"Content-Type\": \"application/x-www-form-urlencoded\"\n                },\n                body: data.toString(),\n                json: true\n              });\n\n            case 6:\n              resp = _context.sent;\n              _context.next = 9;\n              return resp.json();\n\n            case 9:\n              json = _context.sent;\n              console.log('received response', json);\n\n            case 11:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee);\n    }));\n\n    _this.responseFacebook = function (resp) {\n      console.log(resp);\n\n      _this.setState({\n        isLoggedIn: true,\n        username: resp.name\n      });\n    };\n\n    _this.state = {\n      isLoggedIn: false,\n      username: null\n    };\n    return _this;\n  }\n\n  _createClass(FacebookRoute, [{\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      return React.createElement(\"div\", {\n        className: \"App\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 42\n        },\n        __self: this\n      }, React.createElement(\"h1\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 44\n        },\n        __self: this\n      }, \"Welcome to My App\"), this.state.isLoggedIn ? null : React.createElement(FacebookLogin, {\n        appId: \"319866152003850\",\n        autoLoad: true,\n        callback: function callback(resp) {\n          return _this2.responseFacebook(resp);\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 46\n        },\n        __self: this\n      }), React.createElement(\"p\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 50\n        },\n        __self: this\n      }, \"Username: \", this.state.username), React.createElement(\"button\", {\n        onClick: this.handleTest,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 51\n        },\n        __self: this\n      }, \"Send new high score\"));\n    }\n  }]);\n\n  return FacebookRoute;\n}(Component);\n\nexport default FacebookRoute;","map":{"version":3,"sources":["/Users/pc/Desktop/tic-tac-toe/src/facebooklogin.js"],"names":["React","Component","FacebookLogin","FacebookRoute","handleTest","data","URLSearchParams","append","url","fetch","method","headers","body","toString","json","resp","console","log","responseFacebook","setState","isLoggedIn","username","name","state"],"mappings":";;;;;;;;AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,OAAOC,aAAP,MAA0B,sBAA1B;;IAEMC,a;;;;;AACJ,2BAAa;AAAA;;AAAA;;AACX;AADW,UAQZC,UARY;AAAA;AAAA;AAAA;AAAA,6BAQA;AAAA;AAAA;AAAA;AAAA;AAAA;AACV;AACIC,cAAAA,IAFM,GAEA,IAAIC,eAAJ,EAFA;AAGVD,cAAAA,IAAI,CAACE,MAAL,CAAY,QAAZ,EAAqB,OAArB;AACAF,cAAAA,IAAI,CAACE,MAAL,CAAY,OAAZ,EAAoB,MAApB;AACMC,cAAAA,GALI,GAKC,oDALD;AAAA;AAAA,qBAMOC,KAAK,CAACD,GAAD,EAAK;AAC1BE,gBAAAA,MAAM,EAAC,MADmB;AAE1BC,gBAAAA,OAAO,EAAE;AACP,kCAAgB;AADT,iBAFiB;AAK1BC,gBAAAA,IAAI,EAAEP,IAAI,CAACQ,QAAL,EALoB;AAM1BC,gBAAAA,IAAI,EAAE;AANoB,eAAL,CANZ;;AAAA;AAMLC,cAAAA,IANK;AAAA;AAAA,qBAcMA,IAAI,CAACD,IAAL,EAdN;;AAAA;AAcPA,cAAAA,IAdO;AAeXE,cAAAA,OAAO,CAACC,GAAR,CAAY,mBAAZ,EAAiCH,IAAjC;;AAfW;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KARA;;AAAA,UA0BbI,gBA1Ba,GA0BM,UAACH,IAAD,EAAU;AAC3BC,MAAAA,OAAO,CAACC,GAAR,CAAYF,IAAZ;;AACD,YAAKI,QAAL,CAAc;AACbC,QAAAA,UAAU,EAAE,IADC;AAEbC,QAAAA,QAAQ,EAAEN,IAAI,CAACO;AAFF,OAAd;AAKA,KAjCY;;AAEX,UAAKC,KAAL,GAAW;AACTH,MAAAA,UAAU,EAAE,KADH;AAETC,MAAAA,QAAQ,EAAE;AAFD,KAAX;AAFW;AAMZ;;;;6BA6BQ;AAAA;;AACP,aACE;AAAK,QAAA,SAAS,EAAC,KAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,6BAFA,EAIC,KAAKE,KAAL,CAAWH,UAAX,GAAwB,IAAxB,GAA8B,oBAAC,aAAD;AAC7B,QAAA,KAAK,EAAC,iBADuB;AAE7B,QAAA,QAAQ,EAAE,IAFmB;AAG7B,QAAA,QAAQ,EAAE,kBAACL,IAAD;AAAA,iBAAU,MAAI,CAACG,gBAAL,CAAsBH,IAAtB,CAAV;AAAA,SAHmB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAJ/B,EAQG;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uBAAc,KAAKQ,KAAL,CAAWF,QAAzB,CARH,EASG;AAAQ,QAAA,OAAO,EAAE,KAAKjB,UAAtB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,+BATH,CADF;AAcD;;;;EAnDyBH,S;;AAsD5B,eAAeE,aAAf","sourcesContent":["import React, { Component } from 'react';\nimport FacebookLogin from 'react-facebook-login';\n\nclass FacebookRoute extends Component {\n  constructor(){\n    super();\n    this.state={\n      isLoggedIn: false,\n      username: null\n    }\n  }\n\n   handleTest= async () => {\n     // make post request to server to write high score\n     let data= new URLSearchParams();\n     data.append('player','Hasan')\n     data.append('score','7777')\n     const url ='https://ftw-highscores.herokuapp.com/tictactoe-dev'\n    const resp= await fetch(url,{\n      method:'POST',\n      headers: {\n        \"Content-Type\": \"application/x-www-form-urlencoded\",\n      },\n      body: data.toString(),\n      json: true,\n    });\n    let json = await resp.json();\n    console.log('received response', json);\n   }\n\n  responseFacebook = (resp) => {\n    console.log(resp)\n   this.setState({\n    isLoggedIn: true,\n    username: resp.name\n   })\n\n  }\n\n  render() {\n    return (\n      <div className=\"App\">\n      \n      <h1>Welcome to My App</h1>\n     \n      {this.state.isLoggedIn ? null: <FacebookLogin\n        appId=\"319866152003850\"\n        autoLoad={true}\n        callback={(resp) => this.responseFacebook(resp)} />}\n         <p>Username: {this.state.username}</p>\n         <button onClick={this.handleTest}>Send new high score</button>\n      </div>\n    \n    );\n  }\n}\n\nexport default FacebookRoute;\n"]},"metadata":{},"sourceType":"module"}